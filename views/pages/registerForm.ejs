<%- include('../components/head.ejs', {title: 'Signup'}) %>
<style>
  input[type="email"] {
    border-bottom-left-radius: 0px;
    border-bottom-right-radius: 0px;
  }

  input[type="password"] {
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
    border-top: 0px;   
  }
 
</style>
<body>
  <div class="text-center mt-5">
    <form action="/register" method="POST" 
      style="max-width: 300px;margin:auto;">
      <img class="mt-4 mb-4"  src="/img/logo.png" width="100" height="100" alt="logo">
      <h1 class="h3 mb-3 font-weight-normal">Please Sign Up</h1>
      <input type="text" id="username" name="username" class="form-control" placeholder="username" required autofocus>
      <input type="email" id="email" name="email" class="form-control" placeholder="email address" required autofocus>
      <input type="password" id="password" name="password" placeholder="********" class="form-control">
      <div class="checkbox mt-3">
        <label>
          <input type="checkbox" name="rememberMe" value="true"> Remember-me
        </label>
      </div>
      <div class="mt-3">
        <button id="submitBtn" class="btn btn-lg btn-primary btn-block" type="submit">Sign Up</button>
      </div>
      <div class="mt-3">
        <p>Already have an account? <a href="/auth-login">Log In</a></p>
      </div>
      <a href="/" class="back-link">&larr; Cancel</a>
    </form>

    <% if (typeof error !== 'undefined' && error !== null) { %>
      <div class="alert alert-danger mt-3" role="alert">
        <%= error %>
      </div>
    <% } %>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.querySelector('form')
      const submitButton = document.getElementById('submitBtn')

      form.addEventListener('submit', function () { submitButton.disabled = true })
    })
  </script>
</body>